<!--index.wxml-->
<view class="container">

  <view wx:for="{{ programProvider.programGroups}}" wx:key='programGroups' 
    class='program-wrapper' ontap='showProgram' 
    data-programid='{{item.id}}'>

    <view class='image-container'>

      <image src='{{item.weapp_cover_image}}'></image>

      <block wx:if="{{item.registration_open}}">
        <view class='registration-status registration-open'>
          报名中
        </view>
      </block>
      <block wx:else>
        <view class='registration-status registration-closed'>
          名额已满
        </view>
      </block>
      
    </view>

    <view class='program-details-container'>

      <view class='program-details-name'>{{ item.weapp_display_name }}</view>

      <view class='program-details-description'>
        <rich-text nodes="{{ item.weapp_description }}"></rich-text>
      </view>

      <view class='program-details-multirow'>

        <view class='program-ages'>
          <text class="fas fa-ruler-vertical"></text>
          {{ item.min_age }}-{{ item.max_age }}岁
        </view>

        <view class='program-type'>        
          <text class="fas fa-child"></text>
          单飞
        </view>

        <view class='program-period'>          
          <text class="far fa-calendar-alt"></text>          
          {{ programProvider.programTypes[item.type_id].name }}
        </view>
      
      </view>

    </view>

  </view>

</view>
